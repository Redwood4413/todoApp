(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const E=document.querySelector("title");E.innerHTML+=" // v.0.0.10";const L=e=>{const t=document.querySelector(".alert-box"),n=document.createElement("div"),s=document.createElement("span");s.setAttribute("id","close"),n.setAttribute("class","alert"),n.innerHTML=`<span>${e}</span>`,n.appendChild(s),t.prepend(n),s.addEventListener("click",()=>{const r=[{transform:"translateX(-50%)"},{transform:"translateX(100%)"}],o={duration:200,iterations:1};setTimeout(()=>{n.remove()},200),n.animate(r,o)}),setTimeout(()=>{n.remove()},3500)},f=document.querySelector("textarea[id='description']");let c=[];const i=document.querySelector("input[id='tags']"),l=document.querySelector(".tags"),S=e=>{const t=document.createElement("div"),n=document.createElement("span");t.setAttribute("class","tag"),t.innerHTML=`#${e}`,t.append(n),l.append(t),n.addEventListener("click",()=>{t.remove();const s=c.indexOf(e);c.splice(s,1)})},x=()=>{let e=i.value;if(e.charAt(e.length-1)===","&&e.length!==1){if(e=e.slice(0,-1),e=e.trim(),c.includes(e)){i.value=i.value.slice(0,-1),L(`Tag "${e}" already exists.`);return}c.push(e),e="",i.value=e,S(c[c.length-1])}},A=e=>{if(e.key!=="Backspace")return;const t=i.value;if(c.length===0||t.length!==0||!l.lastChild)return;const n=l.lastChild.innerHTML.slice(1,-12);c.pop(),l.removeChild(l.lastChild),i.value=n},a=document.querySelector(".background"),q=document.querySelector(".todo-wrapper .header .close"),T=e=>{e.target!==a&&e.target!==q||(a.style.opacity="0",setTimeout(()=>{a.style.display="none"},300))};a.addEventListener("mousedown",T);const k=document.querySelector("form .buttons button[type='button'");k.addEventListener("click",()=>{const e=document.querySelector(".todo-wrapper form input[id='title'");e.value="",f.value="",c=[]});i.addEventListener("input",x);i.addEventListener("keydown",A);f.addEventListener("input",function(){this.style.height=`${this.scrollHeight}px`});const m=document.querySelector(".left-side-menu .arrow-wrapper"),d=document.querySelector(".left-side-menu"),g=document.querySelectorAll(".left-side-menu span"),w=document.querySelector(".left-side-menu .buttons .add-new"),h=document.querySelector(".top-bar .hamburger-button");w.addEventListener("click",()=>{const e=document.querySelector(".background");e.style.display="flex",e.style.opacity="1"});const B=()=>{g.forEach(e=>{const t=e;t.style.display="flex"}),m.setAttribute("hide","true"),d.setAttribute("expanded","true")},p=()=>{g.forEach(e=>{const t=e;t.style.display="none"}),m.setAttribute("hide","false"),d.setAttribute("expanded","false")},v=()=>(document.addEventListener("click",function e(t){!d.contains(t.target)&&!h.contains(t.target)&&(document.removeEventListener("click",e),p())}),d.getAttribute("expanded")==="false"?B():p());h.addEventListener("click",v);m.addEventListener("click",v);const C=document.querySelector(".main .lists");function $(e){const t=e.target;if(!t.matches(".header-list"))return;const n=t.nextElementSibling;navigator.vibrate(25);const s=e.target.querySelector("img");n.getAttribute("expanded")==="true"?(n.setAttribute("expanded","false"),s.removeAttribute("rotated")):(n.setAttribute("expanded","true"),s.setAttribute("rotated",""))}C.addEventListener("click",$);const y=document.querySelectorAll(".lists .list .todos"),b=()=>{const e=Math.floor(document.body.clientWidth/192);if(y.forEach(n=>{n.style.setProperty("--columns","6")}),e>6)return;const t=e.toString();y.forEach(n=>{n.style.setProperty("--columns",t)})},M=document.querySelectorAll(".list .todos");M.forEach(e=>{e.addEventListener("mousemove",t=>{const{target:n}=t;if(n===t.currentTarget)return;const s=n.getBoundingClientRect(),r=t.clientX-s.left,o=t.clientY-s.top;n.style.setProperty("--mouse-x",`${r}px`),n.style.setProperty("--mouse-y",`${o}px`)})});window.addEventListener("load",b);window.addEventListener("resize",b);
