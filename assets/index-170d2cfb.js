(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const T=document.querySelector("title");T.innerHTML+=" // v.0.1.0";const d=(e,t)=>{const o=document.querySelector(".alert-box"),r=document.createElement("div"),n=document.createElement("span");n.setAttribute("id","close"),r.setAttribute("class","alert"),r.innerHTML=`<span>${e}</span>`,r.style.backgroundColor=t,r.appendChild(n),o.append(r),n.addEventListener("click",()=>{const s=[{transform:"translateX(-50%)"},{transform:"translateX(100%)"}],l={duration:200,iterations:1};setTimeout(()=>{r.remove()},200),r.animate(s,l)}),setTimeout(()=>{r.remove()},3500)},x=""+new URL("close-icon-deb47d90.svg",import.meta.url).href,w=""+new URL("completed-icon-8354f7c3.svg",import.meta.url).href,A=document.querySelector(".lists .list .todos"),h=e=>{console.log(e);const t=document.createElement("div");return t.setAttribute("class","todo"),t.setAttribute("title","Show todo"),t.innerHTML=`
      <div class="buttons">
        <div class="button" title="Move to Bin">
          <img src="${x}">
        </div>
        <div class="button" title="Mark as Done">
          <img src="${w}">
        </div>
      </div>
      <h2>${e.title}</h2>
      <span class="text">${e.text}</span>
      <div class="tags">
        ${e.tags.map(o=>`<span>${o}</span>`).join("")}
      </div>
      <span class="date">${e.state.createdAt}</span>
    `,A.append(t)};window.addEventListener("load",()=>{const e=JSON.parse(localStorage.getItem("todos"));e&&(console.log(e),e.todos.forEach(t=>{h(t)}))});let c=[];const k=document.querySelector(".background .todo-wrapper form"),g=document.querySelector(".todo-wrapper form input[id='title'"),p=document.querySelector("textarea[id='description']"),i=document.querySelector("input[id='tags']"),a=document.querySelector(".tags"),q=()=>g.value?p.value?!0:(d("Description can't be empty.","#d11717"),!1):(d("Title can't be empty.","#d11717"),!1),$=e=>{if(e.preventDefault(),!q())return;let t=JSON.parse(localStorage.getItem("todos"));const o=new Date,r=o.toLocaleDateString(),n=o.toLocaleTimeString();let s=0;t&&(s=t.todos.length);const l={id:s,title:g.value,text:p.value,tags:c,state:{isComplete:!1,pendingDelete:!1,createdAt:`${n} ${r}`}};t?t.todos.push(l):t={todos:[l]},console.log(l),h(l),localStorage.setItem("todos",JSON.stringify(t)),d("Your todo has been added.","#2c9609")};k.addEventListener("submit",$);const N=e=>{const t=document.createElement("div"),o=document.createElement("span");t.setAttribute("class","tag"),t.innerHTML=`#${e}`,t.append(o),a.append(t),o.addEventListener("click",()=>{t.remove();const r=c.indexOf(e);c.splice(r,1)})},D=()=>{let e=i.value;if(e.charAt(e.length-1)===","&&e.length!==1){if(e=e.slice(0,-1),e=e.trim(),c.includes(e)){i.value=i.value.slice(0,-1),d(`Tag "${e}" already exists.`,"#d11717");return}if(c.length>10){i.value=i.value.slice(0,-1),d(`Number of tags can't be greater than ${c.length}`,"#d11717");return}c.push(e),e="",i.value=e,N(c[c.length-1])}},C=e=>{if(e.key!=="Backspace")return;const t=i.value;if(c.length===0||t.length!==0||!a.lastChild)return;const o=a.lastChild.innerHTML.slice(1,-12);c.pop(),a.removeChild(a.lastChild),i.value=o},u=document.querySelector(".background"),M=document.querySelector(".todo-wrapper .header .close"),B=e=>{e.target!==u&&e.target!==M||(u.style.opacity="0",setTimeout(()=>{u.style.display="none"},300))};u.addEventListener("mousedown",B);const I=document.querySelector("form .buttons button[type='button'");I.addEventListener("click",()=>{g.value="",p.value="",i.value="",c=[];const e=document.querySelectorAll("form .tags .tag");console.log(e),e.forEach(t=>{t.remove()})});i.addEventListener("input",D);i.addEventListener("keydown",C);p.addEventListener("input",function(){this.style.height=`${this.scrollHeight}px`});const f=document.querySelector(".left-side-menu .arrow-wrapper"),m=document.querySelector(".left-side-menu"),b=document.querySelectorAll(".left-side-menu span"),H=document.querySelector(".left-side-menu .buttons .add-new"),S=document.querySelector(".top-bar .hamburger-button");H.addEventListener("click",()=>{const e=document.querySelector(".background");e.style.display="flex",e.style.opacity="1"});const O=()=>{b.forEach(e=>{const t=e;t.style.display="flex"}),f.setAttribute("hide","true"),m.setAttribute("expanded","true")},y=()=>{b.forEach(e=>{const t=e;t.style.display="none"}),f.setAttribute("hide","false"),m.setAttribute("expanded","false")},L=()=>(document.addEventListener("click",function e(t){!m.contains(t.target)&&!S.contains(t.target)&&(document.removeEventListener("click",e),y())}),m.getAttribute("expanded")==="false"?O():y());S.addEventListener("click",L);f.addEventListener("click",L);const P=document.querySelector(".main .lists");function J(e){const t=e.target;if(!t.matches(".header-list"))return;const o=t.nextElementSibling;navigator.vibrate(25);const r=e.target.querySelector("img");o.getAttribute("expanded")==="true"?(o.setAttribute("expanded","false"),r.removeAttribute("rotated")):(o.setAttribute("expanded","true"),r.setAttribute("rotated",""))}P.addEventListener("click",J);const v=document.querySelectorAll(".lists .list .todos"),E=()=>{const e=Math.floor(document.body.clientWidth/192);if(v.forEach(o=>{o.style.setProperty("--columns","7")}),e>7)return;const t=e.toString();v.forEach(o=>{o.style.setProperty("--columns",t)})},Q=document.querySelectorAll(".list .todos");Q.forEach(e=>{e.addEventListener("mousemove",t=>{const{target:o}=t;if(o===t.currentTarget)return;const r=o.getBoundingClientRect(),n=t.clientX-r.left,s=t.clientY-r.top;o.style.setProperty("--mouse-x",`${n}px`),o.style.setProperty("--mouse-y",`${s}px`)})});window.addEventListener("load",E);window.addEventListener("resize",E);const R=document.querySelector(".lists .list .todos .todo");R.addEventListener("click",()=>{const e=document.querySelector(".background");e.style.display="flex",e.style.opacity="1"});
